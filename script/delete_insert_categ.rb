
[171794,161874,160168,171885,159760,160203,172166,159834,172348,172043,172418,172533,170707,160281,163116,160449,172897,172898,172924,161022,160691,160779,160794,160866,173051,161088,161131,161430,161508,161592,161646,161642,161825,161851,161928,161911,161956,162114,162597,162688,162943,163106,163217,163261,163472,163493,163501,169777,164056,164100,164563,164782,164822,164880,165078,165239,165490,165566,165744,165748,165897,165928,166043,166395,166458,166700,166726,167147,167150,167510,167587,167627,167793,167777,167823,167821,167930,168066,168097,168259,168271,168421,168415,173448,168555,168678,168956,169017,169109,169556,169331,169924,169955,170022,170140,170188,170231,170268,170260,170328,170462,170552,170724,171035,171129,171390,171455,171600,171613,168026,160950,171692,163003].each do |aa|
article = Article.find(aa)
if !article.category_ids.blank?
cc = 298
if !article.category_ids.group_by{|elem| elem}.select{|key,val| val.length > 1}.map{|key,val| key}.blank?
(Article.find "#{article.id}").category_ids.group_by{|elem| elem}.select{|key,val| val.length > 1}.map{|key,val| val}.flatten.each do |c|
  ActiveRecord::Base.connection.execute("delete from articles_categories where article_id = '#{article.id}' and category_id = '#{c}'")
  ActiveRecord::Base.connection.execute("delete from  article_contents_categories where article_content_id = '#{article.article_contents.last.id}' and category_id = '#{c}'")
end
end
end
end



[171794,161874,160168,171885,159760,160203,172166,159834,172348,172043,172418,172533,170707,160281,163116,160449,172897,172898,172924,161022,160691,160779,160794,160866,173051,161088,161131,161430,161508,161592,161646,161642,161825,161851,161928,161911,161956,162114,162597,162688,162943,163106,163217,163261,163472,163493,163501,169777,164056,164100,164563,164782,164822,164880,165078,165239,165490,165566,165744,165748,165897,165928,166043,166395,166458,166700,166726,167147,167150,167510,167587,167627,167793,167777,167823,167821,167930,168066,168097,168259,168271,168421,168415,173448,168555,168678,168956,169017,169109,169556,169331,169924,169955,170022,170140,170188,170231,170268,170260,170328,170462,170552,170724,171035,171129,171390,171455,171600,171613,168026,160950,171692,163003].each do |aa|
article = Article.find("#{aa}")
if !article.category_ids.include?(298)
ActiveRecord::Base.connection.execute("insert into articles_categories ( article_id, category_id, sequence_number) values (#{article.id} ,298, 2)")
ActiveRecord::Base.connection.execute("insert into article_contents_categories ( article_content_id, category_id, sequence_number) values (#{article.article_contents.last.id} , 298, 2)")
end
